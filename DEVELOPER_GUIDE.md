# JOM Academy - Developer Guide üë®‚Äçüíª

Welcome to the JOM Academy technical documentation. This project is a dual-interface platform (User & Admin) for connecting talents with opportunities in Africa.

## üèóÔ∏è Architecture Overview

The project is a Monorepo-style setup containing:
- **Frontend:** React + Vite + Tailwind CSS (`/src`)
- **Backend:** NestJS + Mongoose + MongoDB (`/backend`)
- **Database:** MongoDB (Atlas or Local)
- **AI Engine:** Google Gemini 1.5 Flash (`/backend/src/modules/ai`)

### Technology Stack
- **Language:** TypeScript (Full Stack)
- **State Management:** React Context API (`AuthContext`, `ThemeContext`)
- **Styling:** Tailwind CSS + Lucide React (Icons)
- **Backend Framework:** NestJS (Modular Architecture)
- **AI:** Google Generative AI SDK

---

## üöÄ Getting Started

### Prerequisites
- Node.js v18+
- MongoDB (running locally on port 27017 or Atlas URI)
- Git

### Installation

1. **Clone the repository:**
   ```bash
   git clone <repo-url>
   cd jom-solution
   ```

2. **Install Frontend Dependencies:**
   ```bash
   npm install
   ```

3. **Install Backend Dependencies:**
   ```bash
   cd backend
   npm install
   ```

### Configuration (.env)

**Backend (`backend/.env`):**
```env
PORT=3000
MONGODB_URI=mongodb://localhost:27017/jom-platform
JWT_SECRET=your_super_secret_key
GEMINI_API_KEY=AIzaSy... (Get this from Google AI Studio)
FRONTEND_URL=http://localhost:5173
```

**Frontend (`.env`):**
```env
VITE_API_URL=http://localhost:3000/api
```

### Running the Project

**1. Start Backend (Terminal 1):**
```bash
cd backend
npm run start:dev
```
*Server will start on `http://localhost:3000`*

**2. Start Frontend (Terminal 2):**
```bash
npm run dev
```
*App will open at `http://localhost:5173`*

---

## üìÇ Project Structure

### Backend (`/backend/src`)
- **`app.module.ts`**: Root module importing all feature modules.
- **`modules/`**:
  - **`auth/`**: JWT Strategy, Guards, Login/Register logic.
  - **`users/`**: User profile management.
  - **`jobs/`**: Job posting, searching, and application logic.
  - **`trainings/`**: Course management (LMS).
  - **`premium/`**: Payment logic, Freemium limits, Credit Packs.
  - **`ai/`**: **Critical Module** interacting with Gemini.
  - **`admin/`**: Super Admin specific endpoints.

### Frontend (`/src`)
- **`components/`**: Reusable UI components.
  - **`admin/`**: Admin-specific components (e.g., `AdminChatWidget`).
  - **`chat/`**: User-facing components (e.g., `UserChatWidget`).
- **`pages/`**: Route components (Dashboard, Login, CreateCourse, etc.).
- **`context/`**: Global state (Auth, Theme).
- **`layouts/`**: `AdminLayout` vs `MainLayout`.

---

## üîê Key Features & Logic

### 1. Role-Based Access Control (RBAC)
- **Guards:** `AccessTokenGuard`, `RolesGuard`.
- **Roles:** `USER`, `ADMIN`, `SUPER_ADMIN`.
- **Logic:** Check `src/common/decorators/roles.decorator.ts`.

### 2. Premium System (Freemium)
- **Logic:** `PremiumService` checks quotas before allowing actions.
- **Limits:**
  - Free Job Posts: 3 max.
  - Free Courses: 5 max.
  - CV Downloads: 1/month (Free).
- **Override:** `RecruitmentPackService` handles one-off credit consumption.

---

## ü§ñ AI System (The "Brain")

See [AI_SYSTEM_DOCS.md](./AI_SYSTEM_DOCS.md) for detailed architecture of the Chatbots and Sentinel.

---

## üß™ Testing

```bash
# Backend Tests
cd backend
npm run test        # Unit tests
npm run test:e2e    # End-to-end tests
```

---

## ü§ù Contribution Guidelines
1. Create a feature branch (`git checkout -b feature/amazing-feature`).
2. Commit your changes (`git commit -m 'feat: Add amazing feature'`).
3. Push to the branch (`git push origin feature/amazing-feature`).
4. Open a Pull Request.

---

*Generated by JOM AI Assistant - Dec 2025*
